var zt=Object.defineProperty;var et=t=>{throw TypeError(t)};var qt=(t,e,r)=>e in t?zt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ge=(t,e,r)=>qt(t,typeof e!="symbol"?e+"":e,r),Ct=(t,e,r)=>e.has(t)||et("Cannot "+r);var ee=(t,e,r)=>(Ct(t,e,"read from private field"),r?r.call(t):e.get(t)),ue=(t,e,r)=>e.has(t)?et("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r);import{f as I,a as b,c as fe,d as Dt}from"../chunks/BQP7J9dv.js";import{s as He,j as te,a0 as Lt,o as ot,k as Nt,i as Rt,g as s,A as Ht,l as Bt,H as Ft,m as tt,n as Be,x as ye,ad as Ot,ah as Vt,p as Ve,t as Pt,q as Gt,am as dt,a9 as ut,O as vt,at as Zt,aw as rt,ax as at,v as _t,w as Ut,ay as Ee,az as ze,aA as Fe,T as ct,aB as Wt,af as Jt,aC as Qt,ak as Yt,aD as Kt,F as Xt,aE as ft,ab as jt,aF as $t,aq as er,aG as tr,aH as rr,aa as ar,aI as sr,aJ as nr,aK as ir,aL as lr,b as or,ar as dr,au as P,C as q,Z as l,aM as ie,_ as n,X as j,W as ae,Y as se,$ as _,av as B,V as X,aN as ur,a as qe,B as gt}from"../chunks/DThrREYr.js";import{p as vr,i as V}from"../chunks/DnIPVgoe.js";import{l as ht,a as _r,d as Ie,s as L,e as cr}from"../chunks/CQtIoyc-.js";import{i as fr}from"../chunks/BjcoR4Xj.js";function yt(t){var e,r,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=yt(t[e]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r);return a}function gr(){for(var t,e,r=0,a="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=yt(t))&&(a&&(a+=" "),a+=e);return a}function ve(t){return typeof t=="object"?gr(t):t??""}function hr(t,e,r){var a=t==null?"":""+t;return a===""?null:a}function _e(t,e){return e}function yr(t,e,r){for(var a=t.items,i=[],v=e.length,o=0;o<v;o++)Qt(e[o].e,i,!0);var f=v>0&&i.length===0&&r!==null;if(f){var k=r.parentNode;Yt(k),k.append(r),a.clear(),ne(t,e[0].prev,e[v-1].next)}Kt(i,()=>{for(var h=0;h<v;h++){var g=e[h];f||(a.delete(g.k),ne(t,g.prev,g.next)),ct(g.e,!f)}})}function ce(t,e,r,a,i,v=null){var o=t,f={flags:e,items:new Map,first:null},k=(e&ft)!==0;if(k){var h=t;o=te?He(Lt(h)):h.appendChild(ot())}te&&Nt();var g=null,y=!1,m=new Map,p=Ht(()=>{var E=r();return ut(E)?E:E==null?[]:dt(E)}),d,S;function w(){pr(S,d,f,m,o,i,e,a,r),v!==null&&(d.length===0?g?_t(g):g=Ve(()=>v(o)):g!==null&&Ut(g,()=>{g=null}))}Rt(()=>{S??(S=Xt),d=s(p);var E=d.length;if(y&&E===0)return;y=E===0;let C=!1;if(te){var N=Bt(o)===Ft;N!==(E===0)&&(o=tt(),He(o),Be(!1),C=!0)}if(te){for(var x=null,T,c=0;c<E;c++){if(ye.nodeType===Ot&&ye.data===Vt){o=ye,C=!0,Be(!1);break}var M=d[c],A=a(M,c);T=Pe(ye,f,x,null,M,A,c,i,e,r),f.items.set(A,T),x=T}E>0&&He(tt())}if(te)E===0&&v&&(g=Ve(()=>v(o)));else if(Pt()){var D=new Set,G=Gt;for(c=0;c<E;c+=1){M=d[c],A=a(M,c);var R=f.items.get(A)??m.get(A);R?(e&(Ee|ze))!==0&&pt(R,M,c,e):(T=Pe(null,f,null,null,M,A,c,i,e,r,!0),m.set(A,T)),D.add(A)}for(const[O,Z]of f.items)D.has(O)||G.skipped_effects.add(Z.e);G.add_callback(w)}else w();C&&Be(!0),s(p)}),te&&(o=ye)}function pr(t,e,r,a,i,v,o,f,k){var u,z,F,$;var h=(o&$t)!==0,g=(o&(Ee|ze))!==0,y=e.length,m=r.items,p=r.first,d=p,S,w=null,E,C=[],N=[],x,T,c,M;if(h)for(M=0;M<y;M+=1)x=e[M],T=f(x,M),c=m.get(T),c!==void 0&&((u=c.a)==null||u.measure(),(E??(E=new Set)).add(c));for(M=0;M<y;M+=1){if(x=e[M],T=f(x,M),c=m.get(T),c===void 0){var A=a.get(T);if(A!==void 0){a.delete(T),m.set(T,A);var D=w?w.next:d;ne(r,w,A),ne(r,A,D),Oe(A,D,i),w=A}else{var G=d?d.e.nodes_start:i;w=Pe(G,r,w,w===null?r.first:w.next,x,T,M,v,o,k)}m.set(T,w),C=[],N=[],d=w.next;continue}if(g&&pt(c,x,M,o),(c.e.f&Fe)!==0&&(_t(c.e),h&&((z=c.a)==null||z.unfix(),(E??(E=new Set)).delete(c))),c!==d){if(S!==void 0&&S.has(c)){if(C.length<N.length){var R=N[0],O;w=R.prev;var Z=C[0],Q=C[C.length-1];for(O=0;O<C.length;O+=1)Oe(C[O],R,i);for(O=0;O<N.length;O+=1)S.delete(N[O]);ne(r,Z.prev,Q.next),ne(r,w,Z),ne(r,Q,R),d=R,w=Q,M-=1,C=[],N=[]}else S.delete(c),Oe(c,d,i),ne(r,c.prev,c.next),ne(r,c,w===null?r.first:w.next),ne(r,w,c),w=c;continue}for(C=[],N=[];d!==null&&d.k!==T;)(d.e.f&Fe)===0&&(S??(S=new Set)).add(d),N.push(d),d=d.next;if(d===null)continue;c=d}C.push(c),w=c,d=c.next}if(d!==null||S!==void 0){for(var U=S===void 0?[]:dt(S);d!==null;)(d.e.f&Fe)===0&&U.push(d),d=d.next;var W=U.length;if(W>0){var J=(o&ft)!==0&&y===0?i:null;if(h){for(M=0;M<W;M+=1)(F=U[M].a)==null||F.measure();for(M=0;M<W;M+=1)($=U[M].a)==null||$.fix()}yr(r,U,J)}}h&&jt(()=>{var re;if(E!==void 0)for(c of E)(re=c.a)==null||re.apply()}),t.first=r.first&&r.first.e,t.last=w&&w.e;for(var K of a.values())ct(K.e);a.clear()}function pt(t,e,r,a){(a&Ee)!==0&&at(t.v,e),(a&ze)!==0?at(t.i,r):t.i=r}function Pe(t,e,r,a,i,v,o,f,k,h,g){var y=(k&Ee)!==0,m=(k&Wt)===0,p=y?m?Zt(i,!1,!1):rt(i):i,d=(k&ze)===0?o:rt(o);vt&&y&&(p.trace=()=>{var E=typeof d=="number"?o:d.v;h()[E]});var S={i:d,v:p,k:v,a:null,e:null,prev:r,next:a};try{if(t===null){var w=document.createDocumentFragment();w.append(t=ot())}return S.e=Ve(()=>f(t,p,d,h),te),S.e.prev=r&&r.e,S.e.next=a&&a.e,r===null?g||(e.first=S):(r.next=S,r.e.next=S.e),a!==null&&(a.prev=S,a.e.prev=S.e),S}finally{}}function Oe(t,e,r){for(var a=t.next?t.next.e.nodes_start:r,i=e?e.e.nodes_start:r,v=t.e.nodes_start;v!==null&&v!==a;){var o=Jt(v);i.before(v),v=o}}function ne(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function Y(t,e,r,a,i,v){var o=t.__className;if(te||o!==r||o===void 0){var f=hr(r);(!te||f!==t.getAttribute("class"))&&(f==null?t.removeAttribute("class"):e?t.className=f:t.setAttribute("class",f)),t.__className=r}return v}function mt(t,e,r=!1){if(t.multiple){if(e==null)return;if(!ut(e))return tr();for(var a of t.options)a.selected=e.includes(be(a));return}for(a of t.options){var i=be(a);if(rr(i,e)){a.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function mr(t){var e=new MutationObserver(()=>{mt(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ar(()=>{e.disconnect()})}function st(t,e,r=e){var a=!0;ht(t,"change",i=>{var v=i?"[selected]":":checked",o;if(t.multiple)o=[].map.call(t.querySelectorAll(v),be);else{var f=t.querySelector(v)??t.querySelector("option:not([disabled])");o=f&&be(f)}r(o)}),er(()=>{var i=e();if(mt(t,i,a),a&&i===void 0){var v=t.querySelector(":checked");v!==null&&(i=be(v),r(i))}t.__value=i,a=!1}),mr(t)}function be(t){return"__value"in t?t.__value:t.value}const br=Symbol("is custom element"),xr=Symbol("is html");function pe(t){if(te){var e=!1,r=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var a=t.value;nt(t,"value",null),t.value=a}if(t.hasAttribute("checked")){var i=t.checked;nt(t,"checked",null),t.checked=i}}};t.__on_r=r,sr(r),_r()}}function nt(t,e,r,a){var i=wr(t);if(te&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")){kr(t,e,"");return}i[e]!==(i[e]=r)&&(e==="loading"&&(t[nr]=r),t.removeAttribute(e))}function wr(t){return t.__attributes??(t.__attributes={[br]:t.nodeName.includes("-"),[xr]:t.namespaceURI===ir})}function kr(t,e,r){vt&&(e==="srcset"&&Mr(t,r)||Ge(t.getAttribute(e)??"",r)||lr(e,t.outerHTML.replace(t.innerHTML,t.innerHTML&&"..."),String(r)))}function Ge(t,e){return t===e?!0:new URL(t,document.baseURI).href===new URL(e,document.baseURI).href}function it(t){return t.split(",").map(e=>e.trim().split(" ").filter(Boolean))}function Mr(t,e){var r=it(t.srcset),a=it(e);return a.length===r.length&&a.every(([i,v],o)=>v===r[o][1]&&(Ge(r[o][0],i)||Ge(i,r[o][0])))}function me(t,e,r=e){ht(t,"change",a=>{var i=a?t.defaultChecked:t.checked;r(i)}),(te&&t.defaultChecked!==t.checked||or(e)==null)&&r(t.checked),dr(()=>{var a=e();t.checked=!!a})}function Sr(t){const e=t.split(`
`),r=[];let a="";for(;e.length>0;)if(a+=e.shift(),a.length!==0)try{const i=JSON.parse(a);r.push(i),a=""}catch(i){if(e.length===0)throw new Error(`unable to parse invalid nd-json: ${i}, "${a}"`)}return r}async function le(t,e){const r=await fetch(e,{method:t}),a=await r.text();if(r.status>=200&&r.status<300)return a;throw new Error(a)}async function Ar(){const t=JSON.parse(await le("GET","/api/qmdl-manifest"));return new Cr(t)}async function Ir(){return JSON.parse(await le("GET","/api/system-stats"))}async function Tr(){return JSON.parse(await le("GET","/api/config"))}async function Er(t){const e=await fetch("/api/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const r=await e.text();throw new Error(r)}}var Te=(t=>(t[t.Informational=0]="Informational",t[t.Warning=1]="Warning",t))(Te||{});function zr(t){const e=t[0];let r=0,a=0,i=0;const v=t.slice(1).map(o=>{const f=o.analysis.map(k=>{const h=k.events.map(g=>g===null?null:g.event_type.type==="Informational"?(a+=1,{type:0,message:g.message}):(r+=1,{type:1,severity:g.event_type.severity==="High"?2:g.event_type.severity==="Medium"?1:0,message:g.message})).filter(g=>g!==null);return{timestamp:k.timestamp,events:h}});return i+=o.skipped_message_reasons.length,{timestamp:new Date(o.timestamp),skipped_message_reasons:o.skipped_message_reasons,analysis:f}});return{statistics:{num_informational_logs:a,num_warnings:r,num_skipped_packets:i},metadata:e,rows:v}}async function bt(t){const e=Sr(await le("GET",`/api/analysis-report/${t}`));return zr(e)}var he=(t=>(t[t.Running=0]="Running",t[t.Queued=1]="Queued",t[t.Finished=2]="Finished",t))(he||{});class qr{constructor(){ge(this,"status",new Map);ge(this,"reports",new Map)}async run_analysis(e){await le("POST",`/api/analysis/${e}`),this.status.set(e,1),this.reports.delete(e)}async update(){const e=JSON.parse(await le("GET","/api/analysis"));e.running&&this.status.set(e.running,0);for(const r of e.queued)this.status.set(r,1);for(const r of e.finished)this.status.get(r)!==2&&(this.status.set(r,2),this.reports.delete(r),bt(r).then(a=>{this.reports.set(r,a)}).catch(a=>{this.reports.set(r,`Failed to get analysis: ${a}`)}))}}class Cr{constructor(e){ge(this,"entries",[]);ge(this,"current_entry");for(let r of e.entries)this.entries.push(new lt(r));e.current_entry!==null&&(this.current_entry=new lt(e.current_entry)),this.entries.reverse()}async set_analysis_status(e){for(let r of this.entries)r.analysis_status=e.status.get(r.name),r.analysis_report=e.reports.get(r.name);if(this.current_entry){try{this.current_entry.analysis_report=await bt(this.current_entry.name)}catch(r){this.current_entry.analysis_report=`Err: failed to get analysis report: ${r}`}this.current_entry.analysis_status=he.Finished}}}var xe,we,ke,Me,Se,Ae;class lt{constructor(e){ue(this,xe,P(""));ge(this,"start_time");ue(this,we,P(void 0));ue(this,ke,P(0));ue(this,Me,P(0));ue(this,Se,P(void 0));ue(this,Ae,P(void 0));this.name=e.name,this.qmdl_size_bytes=e.qmdl_size_bytes,this.analysis_size_bytes=e.analysis_size_bytes,this.start_time=new Date(e.start_time),e.last_message_time&&(this.last_message_time=new Date(e.last_message_time))}get name(){return s(ee(this,xe))}set name(e){q(ee(this,xe),e,!0)}get last_message_time(){return s(ee(this,we))}set last_message_time(e){q(ee(this,we),e,!0)}get qmdl_size_bytes(){return s(ee(this,ke))}set qmdl_size_bytes(e){q(ee(this,ke),e,!0)}get analysis_size_bytes(){return s(ee(this,Me))}set analysis_size_bytes(e){q(ee(this,Me),e,!0)}get analysis_status(){return s(ee(this,Se))}set analysis_status(e){q(ee(this,Se),e,!0)}get analysis_report(){return s(ee(this,Ae))}set analysis_report(e){q(ee(this,Ae),e,!0)}get_readable_qmdl_size(){if(this.qmdl_size_bytes===0)return"0 Bytes";const e=1024,r=2,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(this.qmdl_size_bytes)/Math.log(e));return`${Number.parseFloat((this.qmdl_size_bytes/e**i).toFixed(r))} ${a[i]}`}get_num_warnings(){if(!(this.analysis_report===void 0||typeof this.analysis_report=="string"))return this.analysis_report.statistics.num_warnings}get_pcap_url(){return`/api/pcap/${this.name}.pcapng`}get_qmdl_url(){return`/api/qmdl/${this.name}.qmdl`}get_zip_url(){return`/api/zip/${this.name}.zip`}get_analysis_report_url(){return`/api/analysis-report/${this.name}`}get_delete_url(){return`/api/delete-recording/${this.name}`}get_gps_url(){return`/api/gps/${this.name}`}async has_gps_file(){try{return(await fetch(this.get_gps_url(),{method:"HEAD"})).ok}catch{return!1}}}xe=new WeakMap,we=new WeakMap,ke=new WeakMap,Me=new WeakMap,Se=new WeakMap,Ae=new WeakMap;function Dr(t,e){window.location.href=e.url}var Lr=I('<button> <svg class="fill-current w-4 h-4 m-1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M13 8V2H7v6H2l8 8 8-8h-5zM0 18h20v2H0v-2z"></path></svg></button>');function de(t,e){let r=vr(e,"full_button",3,!1);var a=Lr();a.__click=[Dr,e];var i=l(a);ie(),n(a),j(()=>{Y(a,1,`flex flex-row ${r()?"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md":"text-blue-600 underline"}`),L(i,`${e.text??""} `)}),b(t,a)}Ie(["click"]);function Nr(t,e){window.confirm(e.prompt)&&le("POST",e.url)}var Rr=I('<button class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-md flex flex-row" aria-label="delete"><p> </p> <svg style="width:24px;height:24px" viewBox="0 0 24 24"><path fill="white" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"></path></svg></button>');function Ue(t,e){ae(e,!0);var r=Rr();r.__click=[Nr,e];var a=l(r),i=l(a,!0);n(a),ie(2),n(r),j(()=>L(i,e.text)),b(t,r),se()}Ie(["click"]);var Hr=I('<button class="flex flex-row gap-1 lg:gap-2"><span> </span> <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 9-7 7-7-7"></path></svg></button>');function Ze(t,e){ae(e,!0);let r=B(()=>{if(e.entry.analysis_status===he.Queued)return"Queued...";if(e.entry.analysis_status===he.Running)return"Running...";if(e.entry.analysis_status===he.Finished){if(e.entry.analysis_report===void 0)return"Loading...";if(typeof e.entry.analysis_report=="string")return e.entry.analysis_report;{let h=0;for(let g of e.entry.analysis_report.rows)for(let y of g.analysis)for(let m of y.events)m.type===Te.Warning&&(h+=1);return`${h} warnings`}}else return"Loading..."}),a=B(()=>{let h=e.entry.analysis_status===he.Finished,g=e.entry.analysis_report!==void 0;return h&&g}),i=B(()=>s(a)?"text-blue-600 border rounded-full px-2":"");var v=Hr();v.__click=function(...h){var g;(g=e.onclick)==null||g.apply(this,h)};var o=l(v),f=l(o,!0);n(o);var k=_(o,2);n(v),j(h=>{v.disabled=!s(a),Y(o,1,`${s(i)??""} ${h??""}`),L(f,s(r)),Y(k,0,`w-6 h-6 text-gray-800 transition-transform ${e.analysis_visible?"rotate-180":""}`)},[()=>e.entry.get_num_warnings()<1?"text-green-700 border-green-500 bg-green-200":"text-red-700 border-red-500 bg-red-200"]),b(t,v),se()}Ie(["click"]);var Br=I("<p>Nothing to show!</p>"),Fr=I('<td class="p-2"> </td> <td class="p-2"> </td> <td> </td>',1),Or=I('<td class="p-2"> </td> <td class="p-2"> </td> <td class="p-2">Info</td>',1),Vr=I('<tr class="even:bg-gray-200 odd:bg-white"><!></tr>'),Pr=I('<table class="table-auto text-left"><thead class="p-2"><tr class="bg-gray-300"><th class="p-2">Timestamp</th><th class="p-2">Warning</th><th class="p-2">Severity</th></tr></thead><tbody></tbody></table>'),Gr=I('<tr class="even:bg-gray-200 odd:bg-white"><td class="text-center"> </td><td> </td></tr>'),Zr=I(`<div><p class="text-lg underline">Unparsed Messages</p> <p>These are due to a limitation or bug in Rayhunter's parser, and aren't ususally a problem.</p> <table class="table-auto text-left"><thead class="p-2"><tr class="bg-gray-300"><th scope="col" class="p-2">Total Msgs Affected</th><th scope="col">Reason/Error</th></tr></thead><tbody></tbody></table></div>`),Ur=I('<div><p class="text-lg underline">Warnings and Informational Logs</p> <!></div> <!>',1);function Wr(t,e){ae(e,!0);const r=new Intl.DateTimeFormat(void 0,{timeStyle:"long",dateStyle:"short"}),a=B(()=>{let y=new Map;for(const m of e.report.rows)for(const p of m.skipped_message_reasons){let d=y.get(p);d===void 0&&(d=0),y.set(p,d+1)}return y});var i=Ur(),v=X(i),o=_(l(v),2);{var f=y=>{var m=Br();b(y,m)},k=y=>{var m=Pr(),p=_(l(m));ce(p,21,()=>e.report.rows,_e,(d,S)=>{var w=fe(),E=X(w);ce(E,17,()=>s(S).analysis,_e,(C,N)=>{var x=fe();const T=B(()=>new Date(s(N).timestamp));var c=X(x);ce(c,17,()=>s(N).events.filter(M=>M!==null),_e,(M,A)=>{var D=Vr(),G=l(D);{var R=Z=>{var Q=Fr();const U=B(()=>["Low","Medium","High"][s(A).severity]),W=B(()=>["bg-red-200","bg-red-400","bg-red-600"][s(A).severity]);var J=X(Q),K=l(J,!0);n(J);var u=_(J,2),z=l(u,!0);n(u);var F=_(u,2),$=l(F,!0);n(F),j(re=>{L(K,re),L(z,s(A).message),Y(F,1,`p-2 ${s(W)??""} text-center`),L($,s(U))},[()=>r.format(s(T))]),b(Z,Q)},O=Z=>{var Q=fe(),U=X(Q);{var W=J=>{var K=Or(),u=X(K),z=l(u,!0);n(u);var F=_(u,2),$=l(F,!0);n(F),ie(2),j(re=>{L(z,re),L($,s(A).message)},[()=>r.format(s(T))]),b(J,K)};V(U,J=>{s(A).type===Te.Informational&&J(W)},!0)}b(Z,Q)};V(G,Z=>{s(A).type===Te.Warning?Z(R):Z(O,!1)})}n(D),b(M,D)}),b(C,x)}),b(d,w)}),n(p),n(m),b(y,m)};V(o,y=>{e.report.statistics.num_warnings===0&&e.report.statistics.num_informational_logs===0?y(f):y(k,!1)})}n(v);var h=_(v,2);{var g=y=>{var m=Zr(),p=_(l(m),4),d=_(l(p));ce(d,21,()=>s(a).entries(),_e,(S,w)=>{var E=B(()=>ur(s(w),2));let C=()=>s(E)[0],N=()=>s(E)[1];var x=Gr(),T=l(x),c=l(T,!0);n(T);var M=_(T),A=l(M,!0);n(M),n(x),j(()=>{L(c,N()),L(A,C())}),b(S,x)}),n(d),n(p),n(m),b(y,m)};V(h,y=>{e.report.statistics.num_skipped_packets>0&&y(g)})}b(t,i),se()}var Jr=I("<p>Report unavailable, try refreshing.</p>"),Qr=I("<p> </p>"),Yr=I("<p>No warnings to display!</p>"),Kr=I("<p><b> </b> </p>"),Xr=I('<div><p class="text-lg underline">Metadata</p> <p> </p> <p><b>Device system OS:</b> </p></div> <div><p class="text-lg underline">Analyzers</p> <!></div>',1),jr=I("<p>N/A (analysis generated by an older version of rayhunter)</p>"),$r=I('<div class="flex flex-col gap-2"><!> <!></div>'),ea=I('<div class="container mt-2"><!></div>');function xt(t,e){ae(e,!0);var r=ea(),a=l(r);{var i=o=>{var f=Jr();b(o,f)},v=o=>{var f=fe(),k=X(f);{var h=y=>{var m=Qr(),p=l(m);n(m),j(()=>L(p,`Error getting analysis report: ${e.entry.analysis_report??""}`)),b(y,m)},g=y=>{var m=$r();const p=B(()=>e.entry.analysis_report.metadata);var d=l(m);{var S=x=>{Wr(x,{get report(){return e.entry.analysis_report}})},w=x=>{var T=Yr();b(x,T)};V(d,x=>{e.entry.analysis_report.rows.length>0?x(S):x(w,!1)})}var E=_(d,2);{var C=x=>{var T=Xr(),c=X(T),M=_(l(c),2),A=l(M);n(M);var D=_(M,2),G=_(l(D));n(D),n(c);var R=_(c,2),O=_(l(R),2);ce(O,17,()=>s(p).analyzers,_e,(Z,Q)=>{var U=Kr(),W=l(U),J=l(W);n(W);var K=_(W);n(U),j(()=>{L(J,`${s(Q).name??""}:`),L(K,` ${s(Q).description??""}`)}),b(Z,U)}),n(R),j(()=>{L(A,`Analysis by Rayhunter version ${s(p).rayhunter.rayhunter_version??""}`),L(G,` ${s(p).rayhunter.system_os??""}`)}),b(x,T)},N=x=>{var T=jr();b(x,T)};V(E,x=>{s(p)!==void 0&&s(p).rayhunter!==void 0?x(C):x(N,!1)})}n(m),b(y,m)};V(k,y=>{typeof e.entry.analysis_report=="string"?y(h):y(g,!1)},!0)}b(o,f)};V(a,o=>{e.entry.analysis_report===void 0?o(i):o(v,!1)})}n(r),b(t,r),se()}var ta=I('<td class="p-2"></td>'),ra=I('<td class="p-2"><!></td>'),aa=I('<tr><td class="p-2"> </td><td class="p-2"> </td><td class="p-2"> </td><td class="p-2"> </td><td class="p-2"><!></td><td class="p-2"><!></td><td class="p-2"><!></td><td class="p-2"><!></td><td class="p-2"><!></td><!></tr> <tr><td class="border-t border-dashed p-2" colspan="9"><!></td></tr>',1);function sa(t,e){ae(e,!0);const r=new Intl.DateTimeFormat(void 0,{timeStyle:"long",dateStyle:"short"});let a=B(()=>e.i%2==0?"bg-white":"bg-gray-100"),i=B(()=>{const u=e.entry.get_num_warnings();return u!==void 0&&u>0?"bg-red-100":e.current?"bg-green-100":s(a)}),v=P(!1);function o(){q(v,!s(v))}let f=P(!1);qe(()=>{e.entry.has_gps_file().then(u=>{q(f,u,!0)})});var k=aa(),h=X(k),g=l(h),y=l(g,!0);n(g);var m=_(g),p=l(m,!0);n(m);var d=_(m),S=l(d,!0);n(d);var w=_(d),E=l(w,!0);n(w);var C=_(w),N=l(C);{let u=B(()=>e.entry.get_pcap_url());de(N,{get url(){return s(u)},text:"pcap"})}n(C);var x=_(C),T=l(x);{let u=B(()=>e.entry.get_qmdl_url());de(T,{get url(){return s(u)},text:"qmdl"})}n(x);var c=_(x),M=l(c);{let u=B(()=>e.entry.get_zip_url());de(M,{get url(){return s(u)},text:"zip"})}n(c);var A=_(c),D=l(A);{var G=u=>{{let z=B(()=>e.entry.get_gps_url());de(u,{get url(){return s(z)},text:"gps"})}};V(D,u=>{s(f)&&u(G)})}n(A);var R=_(A),O=l(R);Ze(O,{onclick:o,get entry(){return e.entry},get analysis_visible(){return s(v)}}),n(R);var Z=_(R);{var Q=u=>{var z=ta();b(u,z)},U=u=>{var z=ra(),F=l(z);{let $=B(()=>`Are you sure you want to delete entry ${e.entry.name}?`),re=B(()=>e.entry.get_delete_url());Ue(F,{get prompt(){return s($)},get url(){return s(re)}})}n(z),b(u,z)};V(Z,u=>{e.current?u(Q):u(U,!1)})}n(h);var W=_(h,2),J=l(W),K=l(J);xt(K,{get entry(){return e.entry}}),n(J),n(W),j((u,z,F)=>{Y(h,1,`${s(i)??""} drop-shadow`),L(y,e.entry.name),L(p,u),L(S,z),L(E,F),Y(W,1,`${s(a)??""} border-b ${s(v)?"":"hidden"}`)},[()=>r.format(e.entry.start_time),()=>e.entry.last_message_time&&r.format(e.entry.last_message_time)||"N/A",()=>e.entry.get_readable_qmdl_size()]),b(t,k),se()}async function na(t,e){await le("POST","/api/start-recording"),q(e,!0)}async function ia(t,e){await le("POST","/api/stop-recording"),q(e,!1)}var la=I("<button> </button>"),oa=I('<button><span>Stop</span> <svg class="w-6 h-6 text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M7 5a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2H7Z"></path></svg></button>'),da=I('<button><span>Start</span> <svg class="w-6 h-6 text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M8.6 5.2A1 1 0 0 0 7 6v12a1 1 0 0 0 1.6.8l8-6a1 1 0 0 0 0-1.6l-8-6Z" clip-rule="evenodd"></path></svg></button>'),ua=I("<div><!></div>");function wt(t,e){ae(e,!0);let r=P(gt(e.server_is_recording)),a=B(()=>s(r)!==e.server_is_recording);var i=ua(),v=l(i);{var o=k=>{var h=la(),g=l(h,!0);n(h),j(()=>{Y(h,1,ve(e.server_is_recording?stop_recording_classes:start_recording_classes)),L(g,e.server_is_recording?"Stopping...":"Starting...")}),b(k,h)},f=k=>{var h=fe(),g=X(h);{var y=p=>{var d=oa();Y(d,1,"text-white font-bold py-2 px-4 rounded-md flex flex-row gap-1 bg-red-500 hover:bg-red-700"),d.__click=[ia,r],b(p,d)},m=p=>{var d=da();Y(d,1,"text-white font-bold py-2 px-4 rounded-md flex flex-row gap-1 bg-blue-500 hover:bg-blue-700"),d.__click=[na,r],b(p,d)};V(g,p=>{e.server_is_recording?p(y):p(m,!1)},!0)}b(k,h)};V(v,k=>{s(a)?k(o):k(f,!1)})}n(i),b(t,i),se()}Ie(["click"]);var va=I('<div class="flex flex-row justify-between gap-2"><span class="text-xl mb-2">Current Recording</span> <span><!></span></div>'),_a=I("<span><!></span>"),ca=I('<div><!> <div class="flex flex-col"><div class="flex flex-row justify-between"><span class="font-bold"> </span> <!></div> <span> </span></div> <div class="flex flex-col"><span> </span> <span> </span></div> <div class="flex flex-row justify-between lg:justify-end gap-2 mt-2"><!> <!> <!> <!> <!></div> <div><!></div></div>');function kt(t,e){ae(e,!0);const r=new Intl.DateTimeFormat(void 0,{timeStyle:"long",dateStyle:"short"});let a=B(()=>{const u=e.entry.get_num_warnings();return u!==void 0&&u>0?"bg-red-100":e.current?"bg-green-100":"bg-gray-100"}),i=B(()=>{const u=e.entry.get_num_warnings();return u!==void 0&&u>0?"border-red-100":e.current?"border-green-100":"border-gray-100"}),v=P(!1);function o(){q(v,!s(v))}let f=P(!1);qe(()=>{e.entry.has_gps_file().then(u=>{q(f,u,!0)})});var k=ca(),h=l(k);{var g=u=>{var z=va(),F=_(l(z),2),$=l(F);Ze($,{onclick:o,get entry(){return e.entry},get analysis_visible(){return s(v)}}),n(F),n(z),b(u,z)};V(h,u=>{e.current&&u(g)})}var y=_(h,2),m=l(y),p=l(m),d=l(p);n(p);var S=_(p,2);{var w=u=>{var z=_a(),F=l(z);Ze(F,{onclick:o,get entry(){return e.entry},get analysis_visible(){return s(v)}}),n(z),b(u,z)};V(S,u=>{e.current||u(w)})}n(m);var E=_(m,2),C=l(E,!0);n(E),n(y);var N=_(y,2),x=l(N),T=l(x);n(x);var c=_(x,2),M=l(c);n(c),n(N);var A=_(N,2),D=l(A);{let u=B(()=>e.entry.get_pcap_url());de(D,{get url(){return s(u)},text:"pcap",full_button:"true"})}var G=_(D,2);{let u=B(()=>e.entry.get_qmdl_url());de(G,{get url(){return s(u)},text:"qmdl",full_button:"true"})}var R=_(G,2);{let u=B(()=>e.entry.get_zip_url());de(R,{get url(){return s(u)},text:"zip",full_button:"true"})}var O=_(R,2);{var Z=u=>{{let z=B(()=>e.entry.get_gps_url());de(u,{get url(){return s(z)},text:"gps",full_button:"true"})}};V(O,u=>{s(f)&&u(Z)})}var Q=_(O,2);{var U=u=>{wt(u,{get server_is_recording(){return e.server_is_recording}})},W=u=>{{let z=B(()=>`Are you sure you want to delete entry ${e.entry.name}?`),F=B(()=>e.entry.get_delete_url());Ue(u,{get prompt(){return s(z)},get url(){return s(F)}})}};V(Q,u=>{e.current?u(U):u(W,!1)})}n(A);var J=_(A,2),K=l(J);xt(K,{get entry(){return e.entry}}),n(J),n(k),j((u,z,F)=>{Y(k,1,`${s(a)??""} ${s(i)??""} drop-shadow p-4 flex flex-col gap-2 border rounded-md flex-1`),L(d,`ID: ${e.entry.name??""}`),L(C,u),L(T,`Start: ${z??""}`),L(M,`Last Message: ${F??""}`),Y(J,1,`border-b ${s(v)?"":"hidden"}`)},[()=>e.entry.get_readable_qmdl_size(),()=>r.format(e.entry.start_time),()=>e.entry.last_message_time&&r.format(e.entry.last_message_time)||"N/A"]),b(t,k),se()}var fa=I('<table class="hidden table-auto text-left lg:table"><thead><tr class="bg-gray-100 drop-shadow"><th class="p-2" scope="col">ID</th><th class="p-2" scope="col">Started</th><th class="p-2" scope="col">Last Message</th><th class="p-2" scope="col">Size</th><th class="p-2" scope="col">PCAP</th><th class="p-2" scope="col">QMDL</th><th class="p-2" scope="col">ZIP</th><th class="p-2" scope="col">GPS</th><th class="p-2" scope="col">Analysis</th><th class="p-2" scope="col"></th></tr></thead><tbody></tbody></table> <div class="lg:hidden flex flex-col gap-4"></div>',1);function ga(t,e){var r=fa(),a=X(r),i=_(l(a));ce(i,21,()=>e.entries,_e,(o,f,k)=>{sa(o,{get entry(){return s(f)},current:!1,i:k})}),n(i),n(a);var v=_(a,2);ce(v,21,()=>e.entries,_e,(o,f,k)=>{kt(o,{get entry(){return s(f)},current:!1,i:k,get server_is_recording(){return e.server_is_recording}})}),n(v),b(t,r)}var ha=I('<div class="flex-1 drop-shadow p-4 flex flex-col gap-2 border rounded-md bg-gray-100 border-gray-100"><p class="text-xl mb-2">System Information</p> <table class="table-auto border"><tbody><tr class="border"><th>Rayhunter Version</th><td> </td></tr><tr class="border"><th>Storage</th><td> </td></tr><tr class="border-b"><th>Memory (RAM)</th><td> </td></tr></tbody></table></div>');function ya(t,e){ae(e,!0);const r="border p-1 lg:p-2";var a=ha(),i=_(l(a),2),v=l(i),o=l(v),f=l(o);Y(f,1,ve(r));var k=_(f);Y(k,1,ve(r));var h=l(k,!0);n(k),n(o);var g=_(o),y=l(g);Y(y,1,ve(r));var m=_(y);Y(m,1,ve(r));var p=l(m);n(m),n(g);var d=_(g),S=l(d);Y(S,1,ve(r));var w=_(S);Y(w,1,ve(r));var E=l(w);n(w),n(d),n(v),n(i),n(a),j(()=>{L(h,e.stats.runtime_metadata.rayhunter_version),L(p,`${e.stats.disk_stats.used_percent??""} used (${e.stats.disk_stats.used_size??""} used / ${e.stats.disk_stats.available_size??""} available)`),L(E,`Free: ${e.stats.memory_stats.free??""}, Used: ${e.stats.memory_stats.used??""}`)}),b(t,a),se()}var pa=I('<div class="flex flex-row justify-end gap-2"><!></div>');function ma(t,e){ae(e,!1),fr();var r=pa(),a=l(r);Ue(a,{text:"Delete ALL Recordings",prompt:"Are you sure you want to delete ALL recordings?",url:"/api/delete-all-recordings"}),n(r),b(t,r),se()}var ba=(t,e)=>q(e,!s(e)),xa=I('<div class="text-center py-4">Loading config...</div>'),wa=I('<div class="w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"></div> Saving...',1),ka=Dt('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Apply and restart',1),Ma=I("<div> </div>"),Sa=I('<form class="space-y-4"><div><label for="ui_level" class="block text-sm font-medium text-gray-700 mb-1">Device UI Level</label> <select id="ui_level" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-rayhunter-blue"><option>0 - Invisible mode</option><option>1 - Subtle mode (colored line)</option><option>2 - Demo mode (orca gif)</option><option>3 - EFF logo</option></select></div> <div><label for="key_input_mode" class="block text-sm font-medium text-gray-700 mb-1">Device Input Mode</label> <select id="key_input_mode" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-rayhunter-blue"><option>0 - Disable button control</option><option>1 - Double-tap power button to start/stop recording</option></select></div> <div class="space-y-3"><div class="flex items-center"><input id="colorblind_mode" type="checkbox" class="h-4 w-4 text-rayhunter-blue focus:ring-rayhunter-blue border-gray-300 rounded"/> <label for="colorblind_mode" class="ml-2 block text-sm text-gray-700">Colorblind Mode</label></div></div> <div class="border-t pt-4 mt-6"><h3 class="text-lg font-semibold text-gray-800 mb-4">Analyzer Heuristic Settings</h3> <div class="space-y-3"><div class="flex items-center"><input id="imsi_requested" type="checkbox" class="h-4 w-4 text-rayhunter-blue focus:ring-rayhunter-blue border-gray-300 rounded"/> <label for="imsi_requested" class="ml-2 block text-sm text-gray-700">IMSI Requested Heuristic</label></div> <div class="flex items-center"><input id="connection_redirect_2g_downgrade" type="checkbox" class="h-4 w-4 text-rayhunter-blue focus:ring-rayhunter-blue border-gray-300 rounded"/> <label for="connection_redirect_2g_downgrade" class="ml-2 block text-sm text-gray-700">Connection Redirect 2G Downgrade Heuristic</label></div> <div class="flex items-center"><input id="lte_sib6_and_7_downgrade" type="checkbox" class="h-4 w-4 text-rayhunter-blue focus:ring-rayhunter-blue border-gray-300 rounded"/> <label for="lte_sib6_and_7_downgrade" class="ml-2 block text-sm text-gray-700">LTE SIB6 and SIB7 Downgrade Heuristic</label></div> <div class="flex items-center"><input id="null_cipher" type="checkbox" class="h-4 w-4 text-rayhunter-blue focus:ring-rayhunter-blue border-gray-300 rounded"/> <label for="null_cipher" class="ml-2 block text-sm text-gray-700">Null Cipher Heuristic</label></div></div></div> <div class="flex gap-2 pt-4"><button type="submit" class="bg-blue-500 hover:bg-blue-700 disabled:opacity-50 text-white font-bold py-2 px-4 rounded-md flex flex-row gap-1 items-center"><!></button></div></form> <!>',1),Aa=I('<div class="text-center py-4 text-red-600">Failed to load configuration. Please try reloading the page.</div>'),Ia=I('<div class="bg-white rounded-lg shadow-md p-6 m-4"><button class="w-full flex justify-between items-center text-xl font-bold mb-4 text-rayhunter-dark-blue hover:text-rayhunter-blue"><span>Configuration</span> <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button> <!></div>');function Ta(t,e){ae(e,!0);let r=P(null),a=P(!1),i=P(!1),v=P(""),o=P(null),f=P(!1);async function k(){try{q(a,!0),q(r,await Tr(),!0),q(v,""),q(o,null)}catch(S){q(v,`Failed to load config: ${S}`),q(o,"error")}finally{q(a,!1)}}async function h(){if(s(r))try{q(i,!0),await Er(s(r)),q(v,"Config saved successfully! Rayhunter is restarting now. Reload the page in a few seconds."),q(o,"success")}catch(S){q(v,`Failed to save config: ${S}`),q(o,"error")}finally{q(i,!1)}}qe(()=>{s(f)&&!s(r)&&k()});var g=Ia(),y=l(g);y.__click=[ba,f];var m=_(l(y),2);n(y);var p=_(y,2);{var d=S=>{var w=fe(),E=X(w);{var C=x=>{var T=xa();b(x,T)},N=x=>{var T=fe(),c=X(T);{var M=D=>{var G=Sa(),R=X(G),O=l(R),Z=_(l(O),2),Q=l(Z);Q.value=Q.__value=0;var U=_(Q);U.value=U.__value=1;var W=_(U);W.value=W.__value=2;var J=_(W);J.value=J.__value=3,n(Z),n(O);var K=_(O,2),u=_(l(K),2),z=l(u);z.value=z.__value=0;var F=_(z);F.value=F.__value=1,n(u),n(K);var $=_(K,2),re=l($),We=l(re);pe(We),ie(2),n(re),n($);var Ce=_($,2),Je=_(l(Ce),2),De=l(Je),Qe=l(De);pe(Qe),ie(2),n(De);var Le=_(De,2),Ye=l(Le);pe(Ye),ie(2),n(Le);var Ne=_(Le,2),Ke=l(Ne);pe(Ke),ie(2),n(Ne);var Xe=_(Ne,2),je=l(Xe);pe(je),ie(2),n(Xe),n(Je),n(Ce);var $e=_(Ce,2),Re=l($e),Mt=l(Re);{var St=H=>{var oe=wa();ie(),b(H,oe)},At=H=>{var oe=ka();ie(),b(H,oe)};V(Mt,H=>{s(i)?H(St):H(At,!1)})}n(Re),n($e),n(R);var It=_(R,2);{var Tt=H=>{var oe=Ma(),Et=l(oe,!0);n(oe),j(()=>{Y(oe,1,`mt-4 p-3 rounded ${s(o)==="error"?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`),L(Et,s(v))}),b(H,oe)};V(It,H=>{s(v)&&H(Tt)})}j(()=>Re.disabled=s(i)),cr("submit",R,H=>{H.preventDefault(),h()}),st(Z,()=>s(r).ui_level,H=>s(r).ui_level=H),st(u,()=>s(r).key_input_mode,H=>s(r).key_input_mode=H),me(We,()=>s(r).colorblind_mode,H=>s(r).colorblind_mode=H),me(Qe,()=>s(r).analyzers.imsi_requested,H=>s(r).analyzers.imsi_requested=H),me(Ye,()=>s(r).analyzers.connection_redirect_2g_downgrade,H=>s(r).analyzers.connection_redirect_2g_downgrade=H),me(Ke,()=>s(r).analyzers.lte_sib6_and_7_downgrade,H=>s(r).analyzers.lte_sib6_and_7_downgrade=H),me(je,()=>s(r).analyzers.null_cipher,H=>s(r).analyzers.null_cipher=H),b(D,G)},A=D=>{var G=Aa();b(D,G)};V(c,D=>{s(r)?D(M):D(A,!1)},!0)}b(x,T)};V(E,x=>{s(a)?x(C):x(N,!1)})}b(S,w)};V(p,S=>{s(f)&&S(d)})}n(g),j(()=>Y(m,0,`w-6 h-6 transition-transform ${s(f)?"rotate-180":""}`)),b(t,g),se()}Ie(["click"]);var Ea=I('<div class="bg-red-100 border-red-100 drop-shadow p-4 flex flex-col gap-2 border rounded-md flex-1 justify-between"><span class="text-2xl font-bold mb-2 flex flex-row items-center gap-2 text-red-600"><svg class="w-8 h-8 text-red-600" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm11-4a1 1 0 1 0-2 0v5a1 1 0 1 0 2 0V8Zm-1 7a1 1 0 1 0 0 2h.01a1 1 0 1 0 0-2H12Z" clip-rule="evenodd"></path></svg> WARNING: Not Running</span> <span>Rayhunter is not currently running and will not detect abnormal behavior!</span> <div class="flex flex-row justify-end mt-2"><!></div></div>'),za=I('<div class="flex flex-col lg:flex-row gap-4"><!> <!></div> <div class="flex flex-col gap-2"><span class="text-xl">History</span> <!></div> <!> <!>',1),qa=I('<div class="flex flex-col justify-center items-center"><img src="/rayhunter_orca_only.png" alt="Loading..." class="h-48 animate-spin"/> <p class="text-xl">Loading...</p></div>'),Ca=I('<div class="p-4 xl:px-8 bg-rayhunter-blue drop-shadow flex flex-row justify-between items-center"><img src="/rayhunter_text.png" alt="Rayhunter" class="h-10 xl:h-12"/> <div class="flex flex-row gap-4"><a class="flex flex-row gap-1 group" href="https://github.com/EFForg/rayhunter/issues" target="_blank"><span class="hidden text-white group-hover:text-gray-400 lg:flex">Report Issue</span> <svg class="w-6 h-6 text-white group-hover:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12.006 2a9.847 9.847 0 0 0-6.484 2.44 10.32 10.32 0 0 0-3.393 6.17 10.48 10.48 0 0 0 1.317 6.955 10.045 10.045 0 0 0 5.4 4.418c.504.095.683-.223.683-.494 0-.245-.01-1.052-.014-1.908-2.78.62-3.366-1.21-3.366-1.21a2.711 2.711 0 0 0-1.11-1.5c-.907-.637.07-.621.07-.621.317.044.62.163.885.346.266.183.487.426.647.71.135.253.318.476.538.655a2.079 2.079 0 0 0 2.37.196c.045-.52.27-1.006.635-1.37-2.219-.259-4.554-1.138-4.554-5.07a4.022 4.022 0 0 1 1.031-2.75 3.77 3.77 0 0 1 .096-2.713s.839-.275 2.749 1.05a9.26 9.26 0 0 1 5.004 0c1.906-1.325 2.74-1.05 2.74-1.05.37.858.406 1.828.101 2.713a4.017 4.017 0 0 1 1.029 2.75c0 3.939-2.339 4.805-4.564 5.058a2.471 2.471 0 0 1 .679 1.897c0 1.372-.012 2.477-.012 2.814 0 .272.18.592.687.492a10.05 10.05 0 0 0 5.388-4.421 10.473 10.473 0 0 0 1.313-6.948 10.32 10.32 0 0 0-3.39-6.165A9.847 9.847 0 0 0 12.007 2Z" clip-rule="evenodd"></path></svg></a> <a class="flex flex-row gap-1 group" href="https://efforg.github.io/rayhunter/" target="_blank"><span class="hidden text-white group-hover:text-gray-400 lg:flex">Docs</span> <svg class="w-6 h-6 text-white group-hover:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 19V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v13H7a2 2 0 0 0-2 2Zm0 0a2 2 0 0 0 2 2h12M9 3v14m7 0v4"></path></svg></a></div></div> <div class="m-4 xl:mx-8 flex flex-col gap-4"><!></div>',1);function Fa(t,e){ae(e,!0);let r=new qr,a=P(!1),i=P(!1),v=P(gt([])),o=P(void 0),f=P(void 0);qe(()=>{const p=setInterval(async()=>{await r.update();let d=await Ar();await d.set_analysis_status(r),q(v,d.entries,!0),q(o,d.current_entry,!0),q(i,s(o)!==void 0),q(f,await Ir(),!0),q(a,!0)},1e3);return()=>clearInterval(p)});var k=Ca(),h=_(X(k),2),g=l(h);{var y=p=>{var d=za(),S=X(d),w=l(S);{var E=A=>{kt(A,{get entry(){return s(o)},current:!0,i:0,get server_is_recording(){return s(i)}})},C=A=>{var D=Ea(),G=_(l(D),4),R=l(G);wt(R,{get recording(){return s(i)}}),n(G),n(D),b(A,D)};V(w,A=>{s(i)?A(E):A(C,!1)})}var N=_(w,2);ya(N,{get stats(){return s(f)}}),n(S);var x=_(S,2),T=_(l(x),2);ga(T,{get entries(){return s(v)},get server_is_recording(){return s(i)}}),n(x);var c=_(x,2);ma(c,{});var M=_(c,2);Ta(M,{}),b(p,d)},m=p=>{var d=qa();b(p,d)};V(g,p=>{s(a)?p(y):p(m,!1)})}n(h),b(t,k),se()}export{Fa as component};
